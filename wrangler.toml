name = "services-api"
main = "workers/worker.ts"
compatibility_date = "2026-01-15"
workers_dev = true

# Routes for the 3 sites with subdomains
routes = [
  { pattern = "swankyboyz.com/*", zone_name = "swankyboyz.com" },
  { pattern = "www.swankyboyz.com/*", zone_name = "swankyboyz.com" },
  { pattern = "blog.swankyboyz.com/*", zone_name = "swankyboyz.com" },
  { pattern = "vaughnsterlingtours.com/*", zone_name = "vaughnsterlingtours.com" },
  { pattern = "www.vaughnsterlingtours.com/*", zone_name = "vaughnsterlingtours.com" },
  { pattern = "blog.vaughnsterlingtours.com/*", zone_name = "vaughnsterlingtours.com" },
  { pattern = "vaughnsterling.com/*", zone_name = "vaughnsterling.com" },
  { pattern = "www.vaughnsterling.com/*", zone_name = "vaughnsterling.com" }
]

# Set your Cloudflare account ID here to avoid interactive prompts in CI:
 account_id = "0c8043131da0dc9e3071f64210bdc0e0"

[build]
  command = "npm run build"

[assets]
  directory = "./dist"

[vars]
# Required for Yoco integration
YOCO_API_URL = "https://online.yoco.com"
YOCO_MODE = "test" # change to "live" when ready

# Required for Supabase integration
SUPABASE_URL = "https://snfnfexpmtbouxqgfgcm.supabase.co"

# Optional settings
RATE_LIMIT_MAX = "60"
RATE_LIMIT_WINDOW = "60"
WORKER_ENV = "production"
